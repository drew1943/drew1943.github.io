<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cube Order Form</title>
    <!-- Link to external CSS file for styling -->
    <link rel="stylesheet" href="styles.css">

    <script>
        // Function to calculate running total based on selected cubes and their quantities
        function calculateTotal() {
            let total = 0;

            // Prices for each cube type
            const prices = {
                cube1: 12.99,
                cube2: 59.99,
                cube3: 22.99,
                cube4: 14.99,
                cube5: 9.99,
                cube6: 15.99
            };

            // Loop through each cube to check if selected and calculate total with quantity
            for (const id in prices) {
                const checkbox = document.querySelector(`input[name="${id}"]`);
                const qtyInput = document.querySelector(`input[name="qty${id.slice(-1)}"]`);
                const quantity = qtyInput ? parseInt(qtyInput.value) || 1 : 1;

                if (checkbox && checkbox.checked) {
                    total += prices[id] * quantity;
                }
            }

            // Display the calculated total in the designated span
            document.getElementById("totalDisplay").textContent = "$" + total.toFixed(2);
        }

        // Function to handle form submission and show order summary
        function submitOrder(event) {
            event.preventDefault(); // Prevent page reload

            // Collect customer info
            const firstname = document.querySelector('input[name="firstname"]').value;
            const lastname = document.querySelector('input[name="lastname"]').value;

            // Cube labels and prices
            const cubeLabels = {
                cube1: "Rubik Standard 3x3",
                cube2: "GoCube Smart Cube",
                cube3: "Gan 356 RS",
                cube4: "MoYu RS3M Magnetic",
                cube5: "QiYi Pyraminx",
                cube6: "ShengShou Megaminx"
            };
            const cubePrices = {
                cube1: 12.99,
                cube2: 59.99,
                cube3: 22.99,
                cube4: 14.99,
                cube5: 9.99,
                cube6: 15.99
            };

            let orderDetails = []; // Array to store selected items and quantities
            let total = 0;         // Total order cost

            // Loop through cubes to add selected items to order details
            for (const id in cubeLabels) {
                const checkbox = document.querySelector(`input[name="${id}"]`);
                const qtyInput = document.querySelector(`input[name="qty${id.slice(-1)}"]`);
                const quantity = qtyInput ? parseInt(qtyInput.value) || 1 : 1;

                if (checkbox.checked) {
                    const lineTotal = cubePrices[id] * quantity;
                    orderDetails.push(`${cubeLabels[id]} x${quantity} ($${lineTotal.toFixed(2)})`);
                    total += lineTotal;
                }
            }

            // Display order summary in an alert box
            alert(
                "Your order has been submitted.\n\n" +
                "Customer: " + firstname + " " + lastname + "\n" +
                "Items Ordered:\n- " + (orderDetails.length ? orderDetails.join("\n- ") : "No cubes selected") +
                "\n\nRunning Total: $" + total.toFixed(2) +
                "\n\nThank you for your order!"
            );
        }
    </script>
</head>
<body>

    <!-- Header Section with page title and description -->
    <header>
        <h1>Cube Purchase Form</h1>
        <p>Complete the form below to build your custom order.</p>
    </header>

    <!-- Navigation menu with Rubik's Cube colored links -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="projects.html">Course Projects</a></li>
            <li><a href="terms.html">Terms and Definitions</a></li>
            <li><a href="images.html">Puzzle Gallery</a></li>
            <li><a href="multimedia.html">How To Solve a Cube</a></li>
            <li><a href="links.html">Helpful Puzzle Resources</a></li>
            <li><a href="interactive.html">Interactive Puzzle Tools</a></li>
        </ul>
    </nav>

    <main>
        <h2>Order Form</h2>

        <!-- Start of main form -->
        <form onsubmit="submitOrder(event)">

            <!-- Customer Information Section -->
            <div class="section-bubble bubble-white">
                <h3>Your Information</h3>
                <label>First Name:</label>
                <input type="text" name="firstname" required><br><br>

                <label>Last Name:</label>
                <input type="text" name="lastname" required><br><br>

                <label>Email:</label>
                <input type="email" name="email" required><br><br>

                <label>Age:</label>
                <input type="number" name="age" min="1"><br><br>
            </div>

            <!-- Personal Preferences Section -->
            <div class="section-bubble bubble-yellow">
                <h3>Personal Preferences</h3>
                <label>Favorite Hobby:</label>
                <input type="text" name="hobby"><br><br>

                <label>Favorite Color:</label>
                <input type="color" name="color"><br><br>

                <label>Skill Level:</label>
                <select name="skill">
                    <option>Beginner</option>
                    <option>Intermediate</option>
                    <option>Advanced</option>
                </select><br><br>
            </div>

            <!-- Cube Type Selection Section -->
            <div class="section-bubble bubble-red">
                <h3>Cube Type Selection</h3>
                <label>Select a puzzle type:</label><br>
                <input type="radio" name="choice" value="3x3"> 3x3 Cube<br>
                <input type="radio" name="choice" value="Pyraminx"> Pyraminx<br>
                <input type="radio" name="choice" value="Megaminx"> Megaminx<br><br>
            </div>

            <!-- Cube Brands and Models Section with Quantity -->
            <div class="section-bubble bubble-blue">
                <h3>Cube Brands and Models</h3>
                <label>Select one or more cubes and set quantity:</label><br>

                <!-- Each cube has a checkbox and a number input for quantity -->
                <div>
                    <input type="checkbox" name="cube1" onclick="calculateTotal()"> Rubik Standard 3x3 ($12.99) 
                    Qty: <input type="number" name="qty1" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <div>
                    <input type="checkbox" name="cube2" onclick="calculateTotal()"> GoCube Smart Cube ($59.99) 
                    Qty: <input type="number" name="qty2" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <div>
                    <input type="checkbox" name="cube3" onclick="calculateTotal()"> Gan 356 RS ($22.99) 
                    Qty: <input type="number" name="qty3" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <div>
                    <input type="checkbox" name="cube4" onclick="calculateTotal()"> MoYu RS3M Magnetic ($14.99) 
                    Qty: <input type="number" name="qty4" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <div>
                    <input type="checkbox" name="cube5" onclick="calculateTotal()"> QiYi Pyraminx ($9.99) 
                    Qty: <input type="number" name="qty5" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <div>
                    <input type="checkbox" name="cube6" onclick="calculateTotal()"> ShengShou Megaminx ($15.99) 
                    Qty: <input type="number" name="qty6" value="1" min="1" style="width:50px;" onchange="calculateTotal()">
                </div>

                <!-- Running total display -->
                <h4>Running Total</h4>
                <p><strong>Total: <span id="totalDisplay">$0.00</span></strong></p>
                <button type="button" onclick="calculateTotal()">Recalculate Total</button>
            </div>

            <!-- Experience Rating Section -->
            <div class="section-bubble bubble-green">
                <h3>Experience Rating</h3>
                <label>Rate your experience (1 to 10)</label><br>
                <input type="range" name="experience" min="1" max="10" id="experienceRange" 
                       oninput="expValue.textContent = this.value">
                <span id="expValue">5</span><br><br>
            </div>

            <!-- Shipping Preference Section -->
            <div class="section-bubble bubble-orange">
                <h3>Shipping Preference</h3>
                <label>Shipping Speed Preference:</label>
                <input list="shipping" name="shipPref">
                <datalist id="shipping">
                    <option value="Standard">
                    <option value="Priority">
                    <option value="Express">
                </datalist><br><br>
            </div>

            <!-- Additional Comments Section -->
            <div class="section-bubble bubble-white">
                <h3>Additional Comments</h3>
                <label>Comments:</label><br>
                <textarea name="comments" rows="4" cols="40"></textarea><br><br>

                <!-- Submit button to place the order -->
                <button type="submit">Submit Order</button>
            </div>

        </form>
    </main>

</body>
</html>
